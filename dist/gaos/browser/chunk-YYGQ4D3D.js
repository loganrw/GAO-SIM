import{a as Q,b as C}from"./chunk-A37OMXBV.js";import{E as J,a as K}from"./chunk-IA2YBQXY.js";import{a as $,i as R}from"./chunk-6XJ4HP3E.js";import{Ab as I,Ac as T,Bb as M,Cb as H,Db as V,Ea as h,Fa as v,Fb as F,Jb as o,Kb as a,Lb as s,Ma as B,Na as N,Nb as L,Pc as G,Qb as x,Sb as g,Sc as U,Ta as O,Zb as q,_b as f,gb as c,gc as Y,hb as n,i as _,kc as Z,la as P,ma as d,oa as S,pb as j,qa as X,ub as z,va as E,wa as b,wc as w,xa as p,yb as y,zb as D}from"./chunk-AS4WY6AT.js";var W=(()=>{class r{constructor(e){this.http=e}getCards(e){let i=`https://api.gatcg.com/cards/search?page=${e}&page_size=50`;return this.http.get(i)}getCardImages(e){let i=`https://api.gatcg.com${e}`;return this.http.get(i,{responseType:"blob"})}static{this.\u0275fac=function(i){return new(i||r)(X($))}}static{this.\u0275prov=P({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function oe(r,u){r&1&&s(0,"div",2)}var se=new S("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var re=(()=>{class r{constructor(e,i,t,m,l){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=t,this._animationMode=m,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new N,this._mode="determinate",this._transitionendHandler=A=>{this.animationEnd.observers.length===0||!A.target||!A.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=m==="NoopAnimations",l&&(l.color&&(this.color=this._defaultColor=l.color),this.mode=l.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=ee(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=ee(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(i){return new(i||r)(n(B),n(j),n(w),n(O,8),n(se,8))}}static{this.\u0275cmp=b({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,t){i&2&&(D("aria-valuenow",t._isIndeterminate()?null:t.value)("mode",t.mode),V("mat-"+t.color),H("_mat-animation-noopable",t._isNoopAnimation)("mdc-linear-progress--animation-ready",!t._isNoopAnimation)("mdc-linear-progress--indeterminate",t._isIndeterminate()))},inputs:{color:"color",value:[E.HasDecoratorInputTransform,"value","value",T],bufferValue:[E.HasDecoratorInputTransform,"bufferValue","bufferValue",T],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[z,Y],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,t){i&1&&(o(0,"div",0),s(1,"div",1),y(2,oe,1,0,"div",2),a(),o(3,"div",3),s(4,"span",4),a(),o(5,"div",5),s(6,"span",4),a()),i&2&&(c(),M("flex-basis",t._getBufferBarFlexBasis()),c(),F(2,t.mode==="buffer"?2:-1),c(),M("transform",t._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0})}}return r})();function ee(r,u=0,e=100){return Math.max(u,Math.min(e,r))}var ie=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=p({type:r})}static{this.\u0275inj=d({imports:[J]})}}return r})();function le(r,u){if(r&1){let e=L();o(0,"div",4)(1,"button",5),x("click",function(){h(e);let t=g();return v(t.navigateToPage("lobby"))}),f(2,"PLAY"),a(),o(3,"button",5),x("click",function(){h(e);let t=g();return v(t.navigateToPage("decks"))}),f(4,"DECKS"),a(),o(5,"button",5),x("click",function(){h(e);let t=g();return v(t.navigateToPage("options"))}),f(6,"OPTIONS"),a()()}}function ce(r,u){if(r&1&&(o(0,"div",4)(1,"span",6),f(2,"Initializing card database..."),a(),s(3,"mat-progress-bar",7),a()),r&2){let e=g();c(3),I("value",e.percentLoaded)}}var te=(()=>{class r{constructor(e,i,t){this.routerService=e,this.cardService=i,this.changeRef=t,this.cards=[],this.imageLinks=[],this.pageNumber=1,this.percentLoaded=0,this.loadedCount=0,this.loaded=!1,this.cardQuery=Q(()=>C.card.toArray())}ngOnInit(){return _(this,null,function*(){yield C.card.count().then(e=>{e==0?this.getCards(this.pageNumber):this.loaded=!0}),this.changeRef.detectChanges()})}addNewCard(e){return _(this,null,function*(){yield C.card.add({classes:e.classes,cost_memory:e.cost_memory,cost_reserve:e.cost_reserve,durability:e.durability,editions:e.editions,effect:e.effect,effect_html:e.effect_html,effect_raw:e.effect_raw,element:e.element,flavor:e.flavor,image:e.image,image_link:e.image_link,legality:e.legality,level:e.level,life:e.life,name:e.name,power:e.power,speed:e.speed,subtypes:e.subtypes,types:e.types,uuid:e.uuid})})}getCards(e){this.cardService.getCards(e).subscribe(i=>{this.percentLoaded=i.page/i.total_pages*100,i.data.forEach(t=>{t.editions.forEach(m=>_(this,null,function*(){let l=yield this.cardService.getCardImages(m.image).toPromise();t.image=l||{},t.flavor=m.flavor,this.addNewCard(t)}))}),i.has_more?(e++,this.getCards(e)):this.loaded=!0})}navigateToPage(e){this.routerService.navigateToPage(e)}static{this.\u0275fac=function(i){return new(i||r)(n(K),n(W),n(w))}}static{this.\u0275cmp=b({type:r,selectors:[["app-home"]],decls:5,vars:2,consts:[["loadingCards",""],[1,"flex","flex-row","justify-center"],["src","../../../../assets/logo.jpg","draggable","false",1,"min-h-screen","w-full","max-h-screen","opacity-75","z-0"],["class","absolute top-0 flex flex-col gap-4 top-3/4",4,"ngIf","ngIfElse"],[1,"absolute","top-0","flex","flex-col","gap-4","top-3/4"],[1,"text-white","bg-gradient-to-t","from-emerald-700","to-emerald-800","rounded-md","border","border-gray-400","px-40","py-1","shadow-lg","hover:scale-110",3,"click"],[1,"text-emerald-700","text-3xl"],[3,"value"]],template:function(i,t){if(i&1&&(o(0,"div",1),s(1,"img",2),y(2,le,7,0,"div",3)(3,ce,4,1,"ng-template",null,0,Z),a()),i&2){let m=q(4);c(2),I("ngIf",t.loaded)("ngIfElse",m)}},dependencies:[G,re],encapsulation:2})}}return r})();var de=[{path:"",children:[{path:"",pathMatch:"full",component:te}]}],ae=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=p({type:r})}static{this.\u0275inj=d({imports:[R.forChild(de),R]})}}return r})();var ze=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=p({type:r})}static{this.\u0275inj=d({imports:[U,ae,ie]})}}return r})();export{ze as HomeModule};
