import{a as A,b as $,c as G,d as Z}from"./chunk-COLQRIA4.js";import{a as z,b as I}from"./chunk-A37OMXBV.js";import{g as q,h as J,u as K,v as W,w as X,x as Y,y as ee,z as te}from"./chunk-CHPS3FGF.js";import{a as Q}from"./chunk-IA2YBQXY.js";import{b as B,i as D}from"./chunk-6XJ4HP3E.js";import"./chunk-Q64FFBLU.js";import{$b as N,Ab as s,Ea as u,Fa as f,Jb as n,Kb as i,Lb as l,Na as T,Nb as M,Nc as V,Oc as b,Pc as L,Qb as v,Sb as h,Sc as U,Wb as O,Xb as H,Yb as R,Zb as j,_b as m,ac as c,db as F,eb as _,gb as a,hb as k,i as P,la as E,ma as y,wa as p,xa as w,yb as C}from"./chunk-AS4WY6AT.js";var re=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ne=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-main-deck"]],decls:1,vars:0,consts:[["src","../../../assets/card-back.jpg",1,"w-[30%]","h-[30%]","border-4","border-transparent","hover:border-ga-blue","rounded-md"]],template:function(r,o){r&1&&l(0,"img",0)},encapsulation:2})}}return t})();var ie=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-material-deck"]],decls:1,vars:0,consts:[["src","../../../assets/card-back.jpg",1,"w-[30%]","h-[30%]","border-4","border-transparent","hover:border-ga-blue","rounded-md"]],template:function(r,o){r&1&&l(0,"img",0)}})}}return t})();function ue(t,x){if(t&1){let e=M();n(0,"div",1)(1,"img",2),v("mouseenter",function(){let o=u(e).$implicit,d=h();return f(d.returnCurrentCard(o))}),i()()}if(t&2){let e=x.$implicit,r=h();a(),s("src",r.getCardURL(e.image),_)}}var oe=(()=>{class t{constructor(){this.currentCard=new T}removeCard(e){this.cards=this.cards.filter(r=>r!==e)}returnCurrentCard(e){this.currentCard.emit(e)}getCardURL(e){return URL.createObjectURL(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-hand"]],inputs:{cards:"cards"},outputs:{currentCard:"currentCard"},decls:1,vars:1,consts:[["class","px-1",4,"ngFor","ngForOf"],[1,"px-1"],[1,"hover:border-2","hover:border-ga-blue","hover:border-solid","rounded-md",3,"mouseenter","src"]],template:function(r,o){r&1&&C(0,ue,2,1,"div",0),r&2&&s("ngForOf",o.cards)},dependencies:[b]})}}return t})();var Ce=["drawer"];function ve(t,x){if(t&1&&(n(0,"span",22),m(1),i()),t&2){let e=h().$implicit;a(),c("",e,"\xA0\xA0")}}function he(t,x){if(t&1&&(n(0,"div"),C(1,ve,2,1,"span",28),i()),t&2){let e=x.$implicit;a(),s("ngIf",e)}}function ge(t,x){if(t&1&&(n(0,"div",16)(1,"div",17)(2,"span",18),m(3),i(),n(4,"span",19),m(5),i()(),l(6,"img",20),n(7,"div",21)(8,"span",22),m(9),i(),n(10,"span",22),m(11),i(),n(12,"span",22),m(13),i(),n(14,"span",22),m(15),i(),n(16,"span",22),m(17),i(),n(18,"span",22),m(19),i()(),n(20,"div",23)(21,"span",22),m(22,"Effect:"),i(),l(23,"div",24),i(),n(24,"div",25)(25,"span",26),m(26,"Card Types: "),i(),C(27,he,2,1,"div",27),i()()),t&2){let e=h();a(3),N(e.currentCard.name),a(2),c("Element: ",e.currentCard.element,""),a(),s("src",e.getCardURL(e.currentCard.image),_),a(3),c("Memory Cost: ",e.currentCard.cost_memory?e.currentCard.cost_memory:0,""),a(2),c("Reserve Cost: ",e.currentCard.cost_reserve?e.currentCard.cost_reserve:0,""),a(2),c("Level: ",e.currentCard.level?e.currentCard.level:"None",""),a(2),c("Life: ",e.currentCard.life?e.currentCard.life:"None",""),a(2),c("Power: ",e.currentCard.power?e.currentCard.power:"None",""),a(2),c("Speed: ",e.currentCard.speed===null?"None":e.currentCard.speed==!0?"Fast":"Slow",""),a(4),s("innerHtml",e.currentCard.effect_raw,F),a(4),s("ngForOf",e.currentCard.types)}}var ae=(()=>{class t{constructor(e,r){this.deckService=e,this.routerService=r,this.decksQuery=z(()=>I.decks.toArray()),this.decks=[],this.loaded=!1,this.hoverCards=!1}ngOnInit(){return P(this,null,function*(){let e=localStorage.getItem("selectedDeck")?.replace(/['"]+/g,"");yield I.decks.toArray().then(r=>{this.selectedDeck=r.find(o=>o.name==e),this.shuffleDeck(),this.drawCard(7)})})}shuffleDeck(){for(let e=0;e<this.selectedDeck.main.length;e++){let r=Math.floor(Math.random()*this.selectedDeck.main.length);[this.selectedDeck.main[e],this.selectedDeck.main[r]]=[this.selectedDeck.main[r],this.selectedDeck.main[e]]}}drawCard(e){let r=this.selectedDeck.main.splice(0,e);console.log(r),this.hand=[...r]}viewMaterialDeck(){}setCurrentCard(e){this.currentCard=e}showCardInfo(){return this.drawer.toggle(),!1}getCardURL(e){return URL.createObjectURL(e)}navigateToPage(e){this.routerService.navigateToPage(e)}static{this.\u0275fac=function(r){return new(r||t)(k(re),k(Q))}}static{this.\u0275cmp=p({type:t,selectors:[["app-play-screen"]],viewQuery:function(r,o){if(r&1&&O(Ce,5),r&2){let d;H(d=R())&&(o.drawer=d.first)}},hostBindings:function(r,o){r&1&&v("contextmenu",function(){return o.showCardInfo()})},decls:21,vars:4,consts:[["drawer",""],["menu","matMenu"],["hasBackdrop",""],["mode","over","position","end",1,"bg-[url('./assets/vines.png')]","bg-no-repeat"],["class","mt-2 p-2 flex flex-col items-center w-full",4,"ngIf"],[1,"relative","overflow-x-hidden","overflow-y-hidden"],["src","../../../../assets/play-area.png",1,"max-h-screen","min-h-screen","w-full"],[1,"absolute","top-0","left-0","mt-4","left-2"],["mat-icon-button","",1,"nav-button",3,"matMenuTriggerFor"],[1,"text-ga-blue"],["mat-menu-item","",3,"click"],[1,"!text-red-500"],[1,"text-red-500"],[1,"absolute","xl:bottom-[165px]","right-[-76px]","bottom-[185px]"],[1,"absolute","xl:left-[230px]","xl:bottom-[160px]","left-[237px]","bottom-[185px]"],[1,"left-[8%]","fixed","overflow-hidden","flex","flex-row","w-[85%]",3,"mouseenter","mouseleave","currentCard","cards","ngClass"],[1,"mt-2","p-2","flex","flex-col","items-center","w-full"],[1,"flex","flex-col","bg-slate-100","rounded-md","p-2","w-full","border-2","shadow-md","border-solid","border-emerald-500"],[1,"font-bold","text-lg","text-emerald-700"],[1,"text-emerald-700","mt-2","mb-2"],[1,"mt-2","w-3/4","h-3/4","rounded-md","shadow-xl",3,"src"],[1,"grid","grid-cols-2","grid-rows-2","gap-2","mt-4","place-items-center","bg-slate-100","rounded-md","p-2","w-full","border-2","shadow-md","border-solid","border-emerald-500"],[1,"text-emerald-700"],[1,"flex","flex-col","mt-2","bg-slate-100","rounded-md","p-2","w-full","border-2","shadow-md","border-solid","border-emerald-500"],[1,"text-emerald-700","p-2","border","border-solid","border-emerald-500",3,"innerHtml"],[1,"mt-2","flex","flex-row","bg-slate-100","rounded-md","p-2","w-full","justify-center","border-2","shadow-md","border-solid","border-emerald-500"],[1,"text-emerald-700","mr-2"],[4,"ngFor","ngForOf"],["class","text-emerald-700",4,"ngIf"]],template:function(r,o){if(r&1){let d=M();n(0,"mat-drawer-container",2)(1,"mat-drawer",3,0),C(3,ge,28,11,"div",4),i(),n(4,"mat-drawer-content")(5,"div",5),l(6,"img",6),n(7,"div",7)(8,"button",8)(9,"mat-icon",9),m(10,"menu"),i()(),n(11,"mat-menu",null,1)(13,"button",10),v("click",function(){return u(d),f(o.navigateToPage("/"))}),n(14,"mat-icon",11),m(15,"flag"),i(),n(16,"span",12),m(17,"Surrender"),i()()()(),l(18,"app-main-deck",13)(19,"app-material-deck",14),n(20,"app-hand",15),v("mouseenter",function(){return u(d),f(o.hoverCards=!0)})("mouseleave",function(){return u(d),f(o.hoverCards=!1)})("currentCard",function(de){return u(d),f(o.setCurrentCard(de))}),i()()()()}if(r&2){let d=j(12);a(3),s("ngIf",o.currentCard&&o.loaded),a(5),s("matMenuTriggerFor",d),a(12),s("cards",o.hand)("ngClass",o.hoverCards?"bottom-0":"bottom-[-275px]")}},dependencies:[V,b,L,$,G,A,q,W,K,X,ee,ne,ie,oe],styles:[".nav-button[_ngcontent-%COMP%]{width:45px!important;height:45px!important}.nav-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:42px!important;height:42px!important;line-height:24px!important}.nav-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:42px!important}.mat-drawer[_ngcontent-%COMP%]{width:600px!important;position:fixed;top:0;bottom:0}"]})}}return t})();var xe=[{path:"",children:[{path:"",pathMatch:"full",component:ae}]}],me=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=y({imports:[D.forChild(xe),D]})}}return t})();var nt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=y({imports:[U,B,Z,me,J,Y,te]})}}return t})();export{nt as PlayScreenModule};
